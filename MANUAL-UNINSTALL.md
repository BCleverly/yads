# Manual YADS Uninstall Guide

If `yads uninstall` or `yads upgrade` commands are not working, use this guide to completely remove YADS from your server.

## Quick Manual Removal

### 1. Stop YADS Services
```bash
# Stop all YADS-related services
sudo systemctl stop yads-code-server 2>/dev/null || true
sudo systemctl stop yads-project-browser 2>/dev/null || true
sudo systemctl stop cloudflared 2>/dev/null || true

# Disable services
sudo systemctl disable yads-code-server 2>/dev/null || true
sudo systemctl disable yads-project-browser 2>/dev/null || true
sudo systemctl disable cloudflared 2>/dev/null || true
```

### 2. Remove YADS Files
```bash
# Remove installation directory
rm -rf ~/.local/bin/yads
rm -rf ~/.local/bin/modules
rm -rf ~/.local/bin/version

# Remove configuration directory
rm -rf ~/.yads

# Remove log directory
rm -rf ~/.yads-logs

# Remove system-wide symlink
sudo rm -f /usr/local/bin/yads
```

### 3. Clean Up Services
```bash
# Remove service files
sudo rm -f /etc/systemd/system/yads-code-server.service
sudo rm -f /etc/systemd/system/yads-project-browser.service
sudo rm -f /etc/systemd/system/cloudflared.service

# Reload systemd
sudo systemctl daemon-reload
```

### 4. Clean Up Docker
```bash
# Remove YADS Docker containers
docker stop yads-project-browser 2>/dev/null || true
docker rm yads-project-browser 2>/dev/null || true
```

### 5. Clean Up PATH
```bash
# Remove YADS from shell configuration files
sed -i '/yads\|\.local\/bin/d' ~/.bashrc 2>/dev/null || true
sed -i '/yads\|\.local\/bin/d' ~/.zshrc 2>/dev/null || true
sed -i '/yads\|\.local\/bin/d' ~/.profile 2>/dev/null || true
```

### 6. Clean Up Groups
```bash
# Remove user from www-data group
sudo gpasswd -d $USER www-data 2>/dev/null || true
```

### 7. Clean Up SSH Keys (Optional)
```bash
# Only if you want to remove SSH keys generated by YADS
rm -f ~/.ssh/id_ed25519
rm -f ~/.ssh/id_ed25519.pub
```

### 8. Clean Up Development Directory (Optional)
```bash
# Only if you want to remove the development directory
rm -rf ~/development
```

## Automated Script

For easier removal, use the provided script:

```bash
# Download and run the manual uninstall script
curl -fsSL https://raw.githubusercontent.com/BCleverly/yads/master/manual-uninstall.sh | bash
```

## Verification

After removal, verify YADS is completely gone:

```bash
# Check if yads command exists
which yads

# Check if services are running
systemctl status yads-code-server
systemctl status yads-project-browser
systemctl status cloudflared

# Check if files exist
ls -la ~/.local/bin/yads
ls -la ~/.yads
ls -la /usr/local/bin/yads
```

All commands should return "not found" or "no such file" if YADS is completely removed.

## Reinstall

If you want to reinstall YADS after manual removal:

```bash
curl -fsSL https://raw.githubusercontent.com/BCleverly/yads/master/install.sh | bash
```

## Troubleshooting

### If yads command still exists:
```bash
# Find where yads is located
which yads
whereis yads

# Remove the file
sudo rm -f $(which yads)
```

### If services are still running:
```bash
# Force stop services
sudo systemctl kill yads-code-server
sudo systemctl kill yads-project-browser
sudo systemctl kill cloudflared

# Remove service files
sudo rm -f /etc/systemd/system/yads-*.service
sudo systemctl daemon-reload
```

### If PATH is still configured:
```bash
# Check your shell configuration
cat ~/.bashrc | grep yads
cat ~/.zshrc | grep yads
cat ~/.profile | grep yads

# Remove YADS-related lines manually
nano ~/.bashrc
```

## Complete System Reset

If you want to completely reset your system:

```bash
# Remove all YADS-related files
find /home -name "*yads*" -type f -delete 2>/dev/null || true
find /home -name "*yads*" -type d -exec rm -rf {} + 2>/dev/null || true

# Remove all YADS services
sudo systemctl list-units --all | grep yads | awk '{print $1}' | xargs -r sudo systemctl stop
sudo systemctl list-units --all | grep yads | awk '{print $1}' | xargs -r sudo systemctl disable

# Remove all YADS files from system
sudo find / -name "*yads*" -type f -delete 2>/dev/null || true
sudo find / -name "*yads*" -type d -exec rm -rf {} + 2>/dev/null || true
```

**Warning**: The complete system reset will remove ALL files and directories containing "yads" in their name from your entire system.
